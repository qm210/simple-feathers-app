(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ue,E,en,K,wt,tn,Ve,ct,Ke,We,nn,ae={},rn=[],Zn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Re=Array.isArray;function $(t,e){for(var n in e)t[n]=e[n];return t}function sn(t){var e=t.parentNode;e&&e.removeChild(t)}function X(t,e,n){var r,s,i,o={};for(i in e)i=="key"?r=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?ue.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return oe(t,o,r,s,null)}function oe(t,e,n,r,s){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++en,__i:-1,__u:0};return s==null&&E.vnode!=null&&E.vnode(i),i}function Te(t){return t.children}function be(t,e){this.props=t,this.context=e}function z(t,e){if(e==null)return t.__?z(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?z(t):null}function on(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return on(t)}}function ze(t){(!t.__d&&(t.__d=!0)&&K.push(t)&&!Pe.__r++||wt!==E.debounceRendering)&&((wt=E.debounceRendering)||tn)(Pe)}function Pe(){var t,e,n,r,s,i,o,a;for(K.sort(Ve);t=K.shift();)t.__d&&(e=K.length,r=void 0,i=(s=(n=t).__v).__e,o=[],a=[],n.__P&&((r=$({},s)).__v=s.__v+1,E.vnode&&E.vnode(r),at(n.__P,r,s,n.__n,n.__P.ownerSVGElement!==void 0,32&s.__u?[i]:null,o,i??z(s),!!(32&s.__u),a),r.__v=s.__v,r.__.__k[r.__i]=r,fn(o,r,a),r.__e!=i&&on(r)),K.length>e&&K.sort(Ve));Pe.__r=0}function cn(t,e,n,r,s,i,o,a,c,u,h){var f,d,l,_,g,k=r&&r.__k||rn,b=e.length;for(n.__d=c,er(n,e,k),c=n.__d,f=0;f<b;f++)(l=n.__k[f])!=null&&typeof l!="boolean"&&typeof l!="function"&&(d=l.__i===-1?ae:k[l.__i]||ae,l.__i=f,at(t,l,d,s,i,o,a,c,u,h),_=l.__e,l.ref&&d.ref!=l.ref&&(d.ref&&ut(d.ref,null,l),h.push(l.ref,l.__c||_,l)),g==null&&_!=null&&(g=_),65536&l.__u||d.__k===l.__k?(c&&!c.isConnected&&(c=z(d)),c=an(l,c,t)):typeof l.type=="function"&&l.__d!==void 0?c=l.__d:_&&(c=_.nextSibling),l.__d=void 0,l.__u&=-196609);n.__d=c,n.__e=g}function er(t,e,n){var r,s,i,o,a,c=e.length,u=n.length,h=u,f=0;for(t.__k=[],r=0;r<c;r++)o=r+f,(s=t.__k[r]=(s=e[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?oe(null,s,null,null,null):Re(s)?oe(Te,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?oe(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=t,s.__b=t.__b+1,a=tr(s,n,o,h),s.__i=a,i=null,a!==-1&&(h--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&f--,typeof s.type!="function"&&(s.__u|=65536)):a!==o&&(a===o+1?f++:a>o?h>c-o?f+=a-o:f--:a<o?a==o-1&&(f=a-o):f=0,a!==r+f&&(s.__u|=65536))):(i=n[o])&&i.key==null&&i.__e&&!(131072&i.__u)&&(i.__e==t.__d&&(t.__d=z(i)),Ye(i,i,!1),n[o]=null,h--);if(h)for(r=0;r<u;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==t.__d&&(t.__d=z(i)),Ye(i,i))}function an(t,e,n){var r,s;if(typeof t.type=="function"){for(r=t.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=t,e=an(r[s],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function un(t,e){return e=e||[],t==null||typeof t=="boolean"||(Re(t)?t.some(function(n){un(n,e)}):e.push(t)),e}function tr(t,e,n,r){var s=t.key,i=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&s==c.key&&i===c.type&&!(131072&c.__u))return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&!(131072&c.__u)&&s==c.key&&i===c.type)return o;o--}if(a<e.length){if((c=e[a])&&!(131072&c.__u)&&s==c.key&&i===c.type)return a;a++}}return-1}function kt(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Zn.test(e)?n:n+"px"}function pe(t,e,n,r,s){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||kt(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||kt(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=ct,t.addEventListener(e,i?We:Ke,i)):t.removeEventListener(e,i?We:Ke,i);else{if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function Et(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=ct++;else if(e.t<n.u)return;return n(E.event?E.event(e):e)}}}function at(t,e,n,r,s,i,o,a,c,u){var h,f,d,l,_,g,k,b,S,M,v,p,y,G,re,L=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=e.__e=n.__e]),(h=E.__b)&&h(e);e:if(typeof L=="function")try{if(b=e.props,S=(h=L.contextType)&&r[h.__c],M=h?S?S.props.value:h.__:r,n.__c?k=(f=e.__c=n.__c).__=f.__E:("prototype"in L&&L.prototype.render?e.__c=f=new L(b,M):(e.__c=f=new be(b,M),f.constructor=L,f.render=rr),S&&S.sub(f),f.props=b,f.state||(f.state={}),f.context=M,f.__n=r,d=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),L.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=$({},f.__s)),$(f.__s,L.getDerivedStateFromProps(b,f.__s))),l=f.props,_=f.state,f.__v=e,d)L.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(L.getDerivedStateFromProps==null&&b!==l&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(b,M),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(b,f.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(f.props=b,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(F){F&&(F.__=e)}),v=0;v<f._sb.length;v++)f.__h.push(f._sb[v]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(b,f.__s,M),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(l,_,g)})}if(f.context=M,f.props=b,f.__P=t,f.__e=!1,p=E.__r,y=0,"prototype"in L&&L.prototype.render){for(f.state=f.__s,f.__d=!1,p&&p(e),h=f.render(f.props,f.state,f.context),G=0;G<f._sb.length;G++)f.__h.push(f._sb[G]);f._sb=[]}else do f.__d=!1,p&&p(e),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++y<25);f.state=f.__s,f.getChildContext!=null&&(r=$($({},r),f.getChildContext())),d||f.getSnapshotBeforeUpdate==null||(g=f.getSnapshotBeforeUpdate(l,_)),cn(t,Re(re=h!=null&&h.type===Te&&h.key==null?h.props.children:h)?re:[re],e,n,r,s,i,o,a,c,u),f.base=e.__e,e.__u&=-161,f.__h.length&&o.push(f),k&&(f.__E=f.__=null)}catch(F){e.__v=null,c||i!=null?(e.__e=a,e.__u|=c?160:32,i[i.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),E.__e(F,e,n)}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=nr(n.__e,e,n,r,s,i,o,c,u);(h=E.diffed)&&h(e)}function fn(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)ut(n[r],n[++r],n[++r]);E.__c&&E.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(i){i.call(s)})}catch(i){E.__e(i,s.__v)}})}function nr(t,e,n,r,s,i,o,a,c){var u,h,f,d,l,_,g,k=n.props,b=e.props,S=e.type;if(S==="svg"&&(s=!0),i!=null){for(u=0;u<i.length;u++)if((l=i[u])&&"setAttribute"in l==!!S&&(S?l.localName===S:l.nodeType===3)){t=l,i[u]=null;break}}if(t==null){if(S===null)return document.createTextNode(b);t=s?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,b.is&&b),i=null,a=!1}if(S===null)k===b||a&&t.data===b||(t.data=b);else{if(i=i&&ue.call(t.childNodes),k=n.props||ae,!a&&i!=null)for(k={},u=0;u<t.attributes.length;u++)k[(l=t.attributes[u]).name]=l.value;for(u in k)l=k[u],u=="children"||(u=="dangerouslySetInnerHTML"?f=l:u==="key"||u in b||pe(t,u,null,l,s));for(u in b)l=b[u],u=="children"?d=l:u=="dangerouslySetInnerHTML"?h=l:u=="value"?_=l:u=="checked"?g=l:u==="key"||a&&typeof l!="function"||k[u]===l||pe(t,u,l,k[u],s);if(h)a||f&&(h.__html===f.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(f&&(t.innerHTML=""),cn(t,Re(d)?d:[d],e,n,r,s&&S!=="foreignObject",i,o,i?i[0]:n.__k&&z(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&sn(i[u]);a||(u="value",_!==void 0&&(_!==t[u]||S==="progress"&&!_||S==="option"&&_!==k[u])&&pe(t,u,_,k[u],!1),u="checked",g!==void 0&&g!==t[u]&&pe(t,u,g,k[u],!1))}return t}function ut(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){E.__e(r,n)}}function Ye(t,e,n){var r,s;if(E.unmount&&E.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ut(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){E.__e(i,e)}r.base=r.__P=null}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&Ye(r[s],e,n||typeof t.type!="function");n||t.__e==null||sn(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function rr(t,e,n){return this.constructor(t,n)}function sr(t,e,n){var r,s,i,o;E.__&&E.__(t,e),s=(r=typeof n=="function")?null:n&&n.__k||e.__k,i=[],o=[],at(e,t=(!r&&n||e).__k=X(Te,null,[t]),s||ae,ae,e.ownerSVGElement!==void 0,!r&&n?[n]:s?null:e.firstChild?ue.call(e.childNodes):null,i,!r&&n?n:s?s.__e:e.firstChild,r,o),fn(i,t,o)}function Ot(t,e,n){var r,s,i,o,a=$({},t.props);for(i in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)i=="key"?r=e[i]:i=="ref"?s=e[i]:a[i]=e[i]===void 0&&o!==void 0?o[i]:e[i];return arguments.length>2&&(a.children=arguments.length>3?ue.call(arguments,2):n),oe(t.type,a,r||t.key,s||t.ref,null)}function hn(t,e){var n={__c:e="__cC"+nn++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,ze(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ue=rn.slice,E={__e:function(t,e,n,r){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},en=0,be.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$({},this.state),typeof t=="function"&&(t=t($({},n),this.props)),t&&$(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ze(this))},be.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ze(this))},be.prototype.render=Te,K=[],tn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ve=function(t,e){return t.__v.__b-e.__v.__b},Pe.__r=0,ct=0,Ke=Et(!1),We=Et(!0),nn=0;var Z,A,Fe,St,Ge=0,ln=[],we=[],C=E,At=C.__b,Ct=C.__r,Pt=C.diffed,Lt=C.__c,Rt=C.unmount,Tt=C.__;function Me(t,e){C.__h&&C.__h(A,t,Ge||e),Ge=0;var n=A.__H||(A.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:we}),n.__[t]}function dn(t,e,n){var r=Me(Z++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):cr(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=A,!A.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(d){return!!d.__c});if(h.every(function(d){return!d.__N}))return!i||i.call(this,a,c,u);var f=!1;return h.forEach(function(d){if(d.__N){var l=d.__[0];d.__=d.__N,d.__N=void 0,l!==d.__[0]&&(f=!0)}}),!(!f&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};A.u=!0;var i=A.shouldComponentUpdate,o=A.componentWillUpdate;A.componentWillUpdate=function(a,c,u){if(this.__e){var h=i;i=void 0,s(a,c,u),i=h}o&&o.call(this,a,c,u)},A.shouldComponentUpdate=s}return r.__N||r.__}function pn(t,e){var n=Me(Z++,4);!C.__s&&yn(n.__H,e)&&(n.__=t,n.i=e,A.__h.push(n))}function q(t){return Ge=5,ft(function(){return{current:t}},[])}function ft(t,e){var n=Me(Z++,7);return yn(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function _n(t){var e=A.context[t.__c],n=Me(Z++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(A)),e.props.value):t.__}function ir(){for(var t;t=ln.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ke),t.__H.__h.forEach(Je),t.__H.__h=[]}catch(e){t.__H.__h=[],C.__e(e,t.__v)}}C.__b=function(t){A=null,At&&At(t)},C.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Tt&&Tt(t,e)},C.__r=function(t){Ct&&Ct(t),Z=0;var e=(A=t.__c).__H;e&&(Fe===A?(e.__h=[],A.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=we,n.__N=n.i=void 0})):(e.__h.forEach(ke),e.__h.forEach(Je),e.__h=[],Z=0)),Fe=A},C.diffed=function(t){Pt&&Pt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ln.push(e)!==1&&St===C.requestAnimationFrame||((St=C.requestAnimationFrame)||or)(ir)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==we&&(n.__=n.__V),n.i=void 0,n.__V=we})),Fe=A=null},C.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ke),n.__h=n.__h.filter(function(r){return!r.__||Je(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],C.__e(r,n.__v)}}),Lt&&Lt(t,e)},C.unmount=function(t){Rt&&Rt(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ke(r)}catch(s){e=s}}),n.__H=void 0,e&&C.__e(e,n.__v))};var Mt=typeof requestAnimationFrame=="function";function or(t){var e,n=function(){clearTimeout(r),Mt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Mt&&(e=requestAnimationFrame(n))}function ke(t){var e=A,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),A=e}function Je(t){var e=A;t.__c=t.__(),A=e}function yn(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function cr(t,e){return typeof e=="function"?e(t):e}let V;const ar=(t,e)=>{if(V=void 0,e&&e.type==="click"){if(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button!==0)return t;const n=e.target.closest("a[href]");if(!n||n.origin!=location.origin||/^#/.test(n.getAttribute("href"))||!/^(_?self)?$/i.test(n.target))return t;V=!0,e.preventDefault(),e=n.href.replace(location.origin,"")}else typeof e=="string"?V=!0:e&&e.url?(V=!e.replace,e=e.url):e=location.pathname+location.search;return V===!0?history.pushState(null,"",e):V===!1&&history.replaceState(null,"",e),e},ur=(t,e,n)=>{t=t.split("/").filter(Boolean),e=(e||"").split("/").filter(Boolean);for(let r=0,s,i;r<Math.max(t.length,e.length);r++){let[,o,a,c]=(e[r]||"").match(/^(:?)(.*?)([+*?]?)$/);if(s=t[r],!(!o&&a==s)){if(!o&&s&&c=="*"){n.rest="/"+t.slice(r).map(decodeURIComponent).join("/");break}if(!o||!s&&c!="?"&&c!="*")return;if(i=c=="+"||c=="*",i?s=t.slice(r).map(decodeURIComponent).join("/"):s&&(s=decodeURIComponent(s)),n.params[a]=s,a in n||(n[a]=s),i)break}}return n};function fe(t){const[e,n]=dn(ar,t.url||location.pathname+location.search),r=V===!0,s=ft(()=>{const i=new URL(e,location.origin),o=i.pathname.replace(/(.)\/$/g,"$1");return{url:e,path:o,query:Object.fromEntries(i.searchParams),route:(a,c)=>n({url:a,replace:c}),wasPush:r}},[e]);return pn(()=>(addEventListener("click",n),addEventListener("popstate",n),()=>{removeEventListener("click",n),removeEventListener("popstate",n)}),[]),X(fe.ctx.Provider,{value:s},t.children)}const fr=Promise.resolve();function mn(t){const[e,n]=dn(p=>p+1,0),{url:r,query:s,wasPush:i,path:o}=vn(),{rest:a=o,params:c={}}=_n(Bt),u=q(!1),h=q(o),f=q(0),d=q(),l=q(),_=q(),g=q(!1),k=q();k.current=!1,ft(()=>{this.__v&&this.__v.__k&&this.__v.__k.reverse(),f.current++,l.current=d.current},[r]);let b,S,M;un(t.children).some(p=>{if(ur(a,p.props.path,M={...p.props,path:a,query:s,params:c,rest:""}))return b=Ot(p,M);p.props.default&&(S=Ot(p,M))}),d.current=X(Bt.Provider,{value:M},b||S);const v=l.current;return l.current=null,this.__c=p=>{k.current=!0,l.current=v,t.onLoadStart&&t.onLoadStart(r),u.current=!0;let y=f.current;p.then(()=>{y===f.current&&(l.current=null,fr.then(n))})},pn(()=>{const p=this.__v&&this.__v.__e;if(k.current){!g.current&&!_.current&&(_.current=p);return}!g.current&&_.current&&(_.current!==p&&_.current.remove(),_.current=null),g.current=!0,h.current!==o&&(i&&scrollTo(0,0),t.onRouteChange&&t.onRouteChange(r),h.current=o),t.onLoadEnd&&u.current&&t.onLoadEnd(r),u.current=!1},[o,i,e]),[X(Nt,{r:d}),X(Nt,{r:l})]}const Nt=({r:t})=>t.current;mn.Provider=fe;fe.ctx=hn({});const Bt=hn({}),jt=t=>X(t.component,t),vn=()=>_n(fe.ctx),Ht=E.__e;E.__e=(t,e,n)=>{if(t&&t.then){let r=e;for(;r=r.__;)if(r.__c&&r.__c.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),e.__k||(e.__k=[]),r.__c.__c(t,e)}Ht&&Ht(t,e,n)};var hr=0;function O(t,e,n,r,s,i){var o,a,c={};for(a in e)a=="ref"?o=e[a]:c[a]=e[a];var u={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--hr,__i:-1,__u:0,__source:s,__self:i};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return E.vnode&&E.vnode(u),u}function lr(){const{url:t}=vn();return O("header",{children:O("nav",{children:[O("a",{href:"/",class:t=="/"&&"active",children:"Home"}),O("a",{href:"/404",class:t=="/404"&&"active",children:"404"})]})})}var R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xe={exports:{}},he={},U={};Object.defineProperty(U,"__esModule",{value:!0});U.createDebug=U.setDebug=U.noopDebug=void 0;const ce={};function gn(){return function(){}}U.noopDebug=gn;let bn=gn;function pr(t){bn=t,Object.keys(ce).forEach(e=>{ce[e]=t(e)})}U.setDebug=pr;function _r(t){return ce[t]||(ce[t]=bn(t)),(...e)=>ce[t](...e)}U.createDebug=_r;(function(t){var e=R&&R.__createBinding||(Object.create?function(o,a,c,u){u===void 0&&(u=c);var h=Object.getOwnPropertyDescriptor(a,c);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,u,h)}:function(o,a,c,u){u===void 0&&(u=c),o[u]=a[c]}),n=R&&R.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&e(a,o,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.createSymbol=t.isPromise=t._=t.stripSlashes=void 0;function r(o){return o.replace(/^(\/+)|(\/+)$/g,"")}t.stripSlashes=r,t._={each(o,a){o&&typeof o.forEach=="function"?o.forEach(a):t._.isObject(o)&&Object.keys(o).forEach(c=>a(o[c],c))},some(o,a){return Object.keys(o).map(c=>[o[c],c]).some(([c,u])=>a(c,u))},every(o,a){return Object.keys(o).map(c=>[o[c],c]).every(([c,u])=>a(c,u))},keys(o){return Object.keys(o)},values(o){return t._.keys(o).map(a=>o[a])},isMatch(o,a){return t._.keys(a).every(c=>o[c]===a[c])},isEmpty(o){return t._.keys(o).length===0},isObject(o){return typeof o=="object"&&!Array.isArray(o)&&o!==null},isObjectOrArray(o){return typeof o=="object"&&o!==null},extend(o,...a){return Object.assign(o,...a)},omit(o,...a){const c=t._.extend({},o);return a.forEach(u=>delete c[u]),c},pick(o,...a){return a.reduce((c,u)=>(o[u]!==void 0&&(c[u]=o[u]),c),{})},merge(o,a){return t._.isObject(o)&&t._.isObject(a)&&Object.keys(a).forEach(c=>{t._.isObject(a[c])?(o[c]||Object.assign(o,{[c]:{}}),t._.merge(o[c],a[c])):Object.assign(o,{[c]:a[c]})}),o}};function s(o){return t._.isObject(o)&&typeof o.then=="function"}t.isPromise=s;function i(o){return typeof Symbol<"u"?Symbol.for(o):o}t.createSymbol=i,n(U,t)})(he);var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.default="5.0.24";var Be={},ht={exports:{}},Q=typeof Reflect=="object"?Reflect:null,Dt=Q&&typeof Q.apply=="function"?Q.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Ee;Q&&typeof Q.ownKeys=="function"?Ee=Q.ownKeys:Object.getOwnPropertySymbols?Ee=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ee=function(e){return Object.getOwnPropertyNames(e)};function yr(t){console&&console.warn&&console.warn(t)}var wn=Number.isNaN||function(e){return e!==e};function w(){w.init.call(this)}ht.exports=w;ht.exports.once=br;w.EventEmitter=w;w.prototype._events=void 0;w.prototype._eventsCount=0;w.prototype._maxListeners=void 0;var $t=10;function je(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return $t},set:function(t){if(typeof t!="number"||t<0||wn(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");$t=t}});w.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};w.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||wn(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function kn(t){return t._maxListeners===void 0?w.defaultMaxListeners:t._maxListeners}w.prototype.getMaxListeners=function(){return kn(this)};w.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")Dt(c,this,n);else for(var u=c.length,h=Cn(c,u),r=0;r<u;++r)Dt(h[r],this,n);return!0};function En(t,e,n,r){var s,i,o;if(je(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=kn(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,yr(a)}return t}w.prototype.addListener=function(e,n){return En(this,e,n,!1)};w.prototype.on=w.prototype.addListener;w.prototype.prependListener=function(e,n){return En(this,e,n,!0)};function mr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function On(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=mr.bind(r);return s.listener=n,r.wrapFn=s,s}w.prototype.once=function(e,n){return je(n),this.on(e,On(this,e,n)),this};w.prototype.prependOnceListener=function(e,n){return je(n),this.prependListener(e,On(this,e,n)),this};w.prototype.removeListener=function(e,n){var r,s,i,o,a;if(je(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():vr(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};w.prototype.off=w.prototype.removeListener;w.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function Sn(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?gr(s):Cn(s,s.length)}w.prototype.listeners=function(e){return Sn(this,e,!0)};w.prototype.rawListeners=function(e){return Sn(this,e,!1)};w.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):An.call(t,e)};w.prototype.listenerCount=An;function An(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}w.prototype.eventNames=function(){return this._eventsCount>0?Ee(this._events):[]};function Cn(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function vr(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function gr(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function br(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}Pn(t,e,i,{once:!0}),e!=="error"&&wr(t,s,{once:!0})})}function wr(t,e,n){typeof t.on=="function"&&Pn(t,"error",e,n)}function Pn(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var lt=ht.exports,dt={},Le={},Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.copyFnProperties=Y.copyProperties=void 0;function kr(t,...e){for(const n of e){const r=Object.keys(n).concat(Object.getOwnPropertySymbols(n));for(const s of r){const i=Object.getOwnPropertyDescriptor(n,s);i&&!Object.prototype.hasOwnProperty.call(t,s)&&Object.defineProperty(t,s,i)}}return t}Y.copyProperties=kr;function Er(t,e){const n=["name","length"];try{for(const r of n){const s=e[r];Object.defineProperty(t,r,{value:s})}}catch{}return t}Y.copyFnProperties=Er;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.setMiddleware=t.getMiddleware=t.setManager=t.getManager=t.convertOptions=t.HookManager=t.BaseHookContext=t.HOOKS=void 0;const e=Y;t.HOOKS=Symbol.for("@feathersjs/hooks");class n{constructor(h={}){Object.defineProperty(this,"self",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.assign(this,h)}toJSON(){const h=Object.keys(this);let f=Object.getPrototypeOf(this);for(;f;)h.push(...Object.keys(f)),f=Object.getPrototypeOf(f);return h.reduce((d,l)=>(d[l]=this[l],d),{})}}t.BaseHookContext=n;class r{constructor(){Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_params",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_middleware",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_props",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_defaults",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}parent(h){return this._parent=h,this}middleware(h){return this._middleware=h!=null&&h.length?h:null,this}getMiddleware(){var f;const h=(f=this._parent)==null?void 0:f.getMiddleware();return h&&this._middleware?h.concat(this._middleware):h||this._middleware}collectMiddleware(h,f){const d=a(h),l=this.getMiddleware();return d&&l?d.concat(l):d||l||[]}props(h){return this._props||(this._props={}),(0,e.copyProperties)(this._props,h),this}getProps(){var f;const h=(f=this._parent)==null?void 0:f.getProps();return h&&this._props?(0,e.copyProperties)({},h,this._props):h||this._props||null}params(...h){return this._params=h,this}getParams(){var f;const h=(f=this._parent)==null?void 0:f.getParams();return h&&this._params?h.concat(this._params):h||this._params}defaults(h){return this._defaults=h,this}getDefaults(h,f,d){var g;const l=typeof this._defaults=="function"?this._defaults(h,f,d):null,_=(g=this._parent)==null?void 0:g.getDefaults(h,f,d);return _&&l?Object.assign({},_,l):_||l}getContextClass(h=n){const f=class extends h{constructor(g){super(g)}},d=this.getParams(),l=this.getProps();return d&&d.forEach((_,g)=>{if((l==null?void 0:l[_])!==void 0)throw new Error(`Hooks can not have a property and param named '${_}'. Use .defaults instead.`);Object.defineProperty(f.prototype,_,{enumerable:!0,get(){return this==null?void 0:this.arguments[g]},set(k){this.arguments[g]=k}})}),l&&(0,e.copyProperties)(f.prototype,l),f}initializeContext(h,f,d){const l=this._parent?this._parent.initializeContext(h,f,d):d,_=this.getDefaults(h,f,l);if(h&&(l.self=h),l.arguments=f,_)for(const g of Object.keys(_))l[g]===void 0&&(l[g]=_[g]);return l}}t.HookManager=r;function s(u=null){return u?Array.isArray(u)?new r().middleware(u):u:new r}t.convertOptions=s;function i(u){return u&&u[t.HOOKS]||null}t.getManager=i;function o(u,h){const f=i(u);return u[t.HOOKS]=h.parent(f),u}t.setManager=o;function a(u){const h=i(u);return h?h.getMiddleware():null}t.getMiddleware=a;function c(u,h){const f=new r().middleware(h);return o(u,f)}t.setMiddleware=c})(Le);var N={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.compose=void 0;function Or(t){if(!Array.isArray(t))throw new TypeError("Middleware stack must be an array!");for(const e of t)if(typeof e!="function")throw new TypeError("Middleware must be composed of functions!");return function(e,n){let r=-1;return s.call(this,0);function s(i){if(i<=r)return Promise.reject(new Error("next() called multiple times"));r=i;let o=t[i];if(i===t.length&&(o=n),!o)return Promise.resolve();try{return Promise.resolve(o.call(this,e,s.bind(this,i+1)))}catch(a){return Promise.reject(a)}}}}te.compose=Or;Object.defineProperty(N,"__esModule",{value:!0});N.legacyDecorator=N.hookDecorator=N.objectHooks=N.functionHooks=N.getOriginal=void 0;const Sr=te,I=Le,Ft=Y;function pt(t){return typeof t.original=="function"?pt(t.original):t}N.getOriginal=pt;function He(t,e){if(typeof t!="function")throw new Error("Can not apply hooks to non-function");const n=(0,I.convertOptions)(e),r=function(...s){const{Context:i,original:o}=r,a=s[s.length-1]instanceof i,c=a?s.pop():new i,u=n.initializeContext(this,s,c),h=[(d,l)=>l().then(()=>a?d:d.result)],f=n.collectMiddleware(this,s);return f&&Array.prototype.push.apply(h,f),h.push((d,l)=>Object.prototype.hasOwnProperty.call(u,"result")?l():Promise.resolve(o.apply(this,d.arguments)).then(_=>(d.result=_,l()))),(0,Sr.compose)(h).call(this,u)};return(0,Ft.copyFnProperties)(r,t),(0,Ft.copyProperties)(r,t),(0,I.setManager)(r,n),Object.assign(r,{original:pt(t),Context:n.getContextClass(),createContext:(s={})=>new r.Context(s)})}N.functionHooks=He;function Ar(t,e){if(Array.isArray(e))return(0,I.setMiddleware)(t,e);for(const n of Object.keys(e)){const r=typeof t[n]=="function"?t:t.prototype,s=r&&r[n];if(typeof s!="function")throw new Error(`Can not apply hooks. '${n}' is not a function`);const i=(0,I.convertOptions)(e[n]);r[n]=He(s,i.props({method:n}))}return t}N.objectHooks=Ar;const Cr=t=>(e,n)=>{const r=(0,I.convertOptions)(t);if(n.kind==="class")return(0,I.setManager)(e.prototype,r),e;if(n.kind==="method"){const s=String(n.name);return He(e,r.props({method:s}))}throw new Error("Can not apply hooks.")};N.hookDecorator=Cr;const Pr=t=>(n,r,s)=>{const i=(0,I.convertOptions)(t);if(!s)return(0,I.setManager)(n.prototype,i),n;const o=s.value;if(typeof o!="function")throw new Error(`Can not apply hooks. '${r}' is not a function`);return s.value=He(o,i.props({method:r})),s};N.legacyDecorator=Pr;var Ln={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.collect=t.fromErrorHook=t.fromAfterHook=t.fromBeforeHook=t.runHooks=t.runHook=void 0;const e=te,n=(c,u,h)=>{const f=u.type;return h&&(u.type=h),Promise.resolve(c.call(u.self,u)).then(d=>{h&&(u.type=f),d&&d!==u&&Object.assign(u,d)})};t.runHook=n;const r=c=>u=>c.reduce((h,f)=>h.then(()=>(0,t.runHook)(f,u)),Promise.resolve(u));t.runHooks=r;function s(c){return(u,h)=>(0,t.runHook)(c,u,"before").then(h)}t.fromBeforeHook=s;function i(c){return(u,h)=>h().then(()=>(0,t.runHook)(c,u,"after"))}t.fromAfterHook=i;function o(c){return(u,h)=>h().catch(f=>((u.error!==f||u.result!==void 0)&&(u.original={...u},u.error=f,delete u.result),(0,t.runHook)(c,u,"error").then(()=>{if(u.result===void 0&&u.error!==void 0)throw u.error}).catch(d=>{throw u.error=d,u.error})))}t.fromErrorHook=o;function a({before:c=[],after:u=[],error:h=[]}){const f=c.map(s),d=[...u].reverse().map(i),l=h.length?[o((0,t.runHooks)(h))]:[];return(0,e.compose)([...l,...f,...d])}t.collect=a})(Ln);(function(t){var e=R&&R.__createBinding||(Object.create?function(a,c,u,h){h===void 0&&(h=u);var f=Object.getOwnPropertyDescriptor(c,u);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(a,h,f)}:function(a,c,u,h){h===void 0&&(h=u),a[h]=c[u]}),n=R&&R.__exportStar||function(a,c){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&e(c,a,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=t.middleware=void 0;const r=Le,s=N;n(N,t),n(te,t),n(Le,t),n(Ln,t);function i(a,c){const u=new r.HookManager().middleware(a);return c&&(c.params&&u.params(...c.params),c.defaults&&u.defaults(c.defaults),c.props&&u.props(c.props)),u}t.middleware=i;function o(...a){const[c,u]=a;return typeof c=="function"&&(u instanceof r.HookManager||Array.isArray(u)||a.length===1)?(0,s.functionHooks)(c,u):a.length===2?(0,s.objectHooks)(c,u):(0,s.hookDecorator)(c)}t.hooks=o})(dt);var ee={},le={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapService=t.normalizeServiceOptions=t.getServiceOptions=t.getHookMethods=t.protectedMethods=t.defaultServiceEvents=t.defaultEventMap=t.defaultServiceMethods=t.defaultServiceArguments=t.SERVICE=void 0;const e=lt,n=he;t.SERVICE=(0,n.createSymbol)("@feathersjs/service"),t.defaultServiceArguments={find:["params"],get:["id","params"],create:["data","params"],update:["id","data","params"],patch:["id","data","params"],remove:["id","params"]},t.defaultServiceMethods=["find","get","create","update","patch","remove"],t.defaultEventMap={create:"created",update:"updated",patch:"patched",remove:"removed"},t.defaultServiceEvents=Object.values(t.defaultEventMap),t.protectedMethods=Object.keys(Object.prototype).concat(Object.keys(e.EventEmitter.prototype)).concat(["all","around","before","after","error","hooks","setup","teardown","publish"]);function r(a,c){const{methods:u}=c;return t.defaultServiceMethods.filter(h=>typeof a[h]=="function"&&!u.includes(h)).concat(u)}t.getHookMethods=r;function s(a){return a[t.SERVICE]}t.getServiceOptions=s;const i=(a,c={})=>{const{methods:u=t.defaultServiceMethods.filter(d=>typeof a[d]=="function"),events:h=a.events||[]}=c,f=c.serviceEvents||t.defaultServiceEvents.concat(h);return{...c,events:h,methods:u,serviceEvents:f}};t.normalizeServiceOptions=i;function o(a,c,u){if(c[t.SERVICE])return c;const h=Object.create(c),f=(0,t.normalizeServiceOptions)(c,u);if(Object.keys(f.methods).length===0&&![...t.defaultServiceMethods,"setup","teardown"].some(d=>typeof c[d]=="function"))throw new Error(`Invalid service object passed for path \`${a}\``);return Object.defineProperty(h,t.SERVICE,{value:f}),h}t.wrapService=o})(le);Object.defineProperty(ee,"__esModule",{value:!0});ee.eventMixin=ee.eventHook=void 0;const Lr=lt,qt=le;function Rr(t,e){const{events:n}=(0,qt.getServiceOptions)(t.self),r=qt.defaultEventMap[t.method]||null;return t.event=r,e().then(()=>{typeof t.event=="string"&&!n.includes(t.event)&&(Array.isArray(t.result)?t.result:[t.result]).forEach(i=>t.self.emit(t.event,i,t))})}ee.eventHook=Rr;function Tr(t){return typeof t.on=="function"&&typeof t.emit=="function"||Object.assign(t,Lr.EventEmitter.prototype),t}ee.eventMixin=Tr;var T={};Object.defineProperty(T,"__esModule",{value:!0});T.hookMixin=T.FeathersHookManager=T.createContext=T.enableHooks=T.collectHooks=T.convertHookData=void 0;const W=dt,Ut=le,Mr=["before","after","error","around"],Nr=t=>Mr.includes(t);function Rn(t){const e={};if(Array.isArray(t))e.all=t;else if(typeof t!="object")e.all=[t];else for(const n of Object.keys(t)){const r=t[n];e[n]=Array.isArray(r)?r:[r]}return e}T.convertHookData=Rn;function Qe(t,e){const{collected:n,collectedAll:r,around:s}=t.__hooks;return[...s.all||[],...s[e]||[],...r.before||[],...n[e]||[],...r.after||[]]}T.collectHooks=Qe;function Tn(t){return Object.defineProperty(t,"__hooks",{configurable:!0,value:{around:{},before:{},after:{},error:{},collected:{},collectedAll:{}},writable:!0}),function(r){const s=this.__hooks,i=Object.keys(r).reduce((a,c)=>{if(!Nr(c))throw new Error(`'${c}' is not a valid hook type`);return a[c]=Rn(r[c]),a},{});return Object.keys(i).forEach(a=>Object.keys(i[a]).forEach(c=>{var u;const h=i[a][c];if(((u=s[a])[c]||(u[c]=[])).push(...h),c==="all"){if(s.before[c]||s.error[c]){const d=(0,W.collect)({before:s.before[c]||[],error:s.error[c]||[]});s.collectedAll.before=[d]}if(s.after[c]){const d=(0,W.collect)({after:s.after[c]||[]});s.collectedAll.after=[d]}}else if(s.before[c]||s.after[c]||s.error[c]){const d=(0,W.collect)({before:s.before[c]||[],after:s.after[c]||[],error:s.error[c]||[]});s.collected[c]=[d]}})),this}}T.enableHooks=Tn;function Br(t,e,n={}){const r=t[e].createContext;if(typeof r!="function")throw new Error(`Can not create context for method ${e}`);return r(n)}T.createContext=Br;class Ze extends W.HookManager{constructor(e,n){super(),this.app=e,this.method=n,this._middleware=[]}collectMiddleware(e,n){const r=Qe(this.app,this.method),s=super.collectMiddleware(e,n),i=Qe(e,this.method);return[...r,...s,...i]}initializeContext(e,n,r){const s=super.initializeContext(e,n,r);return s.params=s.params||{},s}middleware(e){return this._middleware.push(...e),this}}T.FeathersHookManager=Ze;function jr(t,e,n){if(typeof t.hooks=="function")return t;const s=(0,Ut.getHookMethods)(t,n).reduce((o,a)=>{const c=Ut.defaultServiceArguments[a]||["data","params"];return o[a]=new Ze(this,a).params(...c).props({app:this,path:e,method:a,service:t,event:null,type:"around",get statusCode(){var u;return(u=this.http)===null||u===void 0?void 0:u.status},set statusCode(u){this.http=this.http||{},this.http.status=u}}),o},{}),i=Tn(t);return(0,W.hooks)(t,s),t.hooks=function(o){return o.before||o.after||o.error||o.around?i.call(this,o):Array.isArray(o)?(0,W.hooks)(this,o):(Object.keys(o).forEach(a=>{const c=(0,W.getManager)(this[a]);if(!(c instanceof Ze))throw new Error(`Method ${a} is not a Feathers hooks enabled service method`);c.middleware(o[a])}),this)},t}T.hookMixin=jr;var Hr=R&&R.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.Feathers=void 0;const Dr=Hr(Ne),$r=lt,Oe=he,x=dt,It=ee,Fr=T,qe=le,qr=T,_e=(0,Oe.createDebug)("@feathersjs/feathers");class Ur extends $r.EventEmitter{constructor(){super(),this.services={},this.settings={},this.mixins=[Fr.hookMixin,It.eventMixin],this.version=Dr.default,this._isSetup=!1,this.registerHooks=(0,qr.enableHooks)(this),this.registerHooks({around:[It.eventHook]})}get(e){return this.settings[e]}set(e,n){return this.settings[e]=n,this}configure(e){return e.call(this,this),this}defaultService(e){throw new Error(`Can not find service '${e}'`)}service(e){const n=(0,Oe.stripSlashes)(e)||"/",r=this.services.hasOwnProperty(n)?this.services[n]:void 0;return typeof r>"u"?(this.use(n,this.defaultService(n)),this.service(n)):r}_setup(){return this._isSetup=!0,Object.keys(this.services).reduce((e,n)=>e.then(()=>{const r=this.service(n);if(typeof r.setup=="function")return _e(`Setting up service for \`${n}\``),r.setup(this,n)}),Promise.resolve()).then(()=>this)}get setup(){return this._setup}set setup(e){this._setup=e[x.HOOKS]?e:(0,x.hooks)(e,(0,x.middleware)().params("server").props({app:this}))}_teardown(){return this._isSetup=!1,Object.keys(this.services).reduce((e,n)=>e.then(()=>{const r=this.service(n);if(typeof r.teardown=="function")return _e(`Tearing down service for \`${n}\``),r.teardown(this,n)}),Promise.resolve()).then(()=>this)}get teardown(){return this._teardown}set teardown(e){this._teardown=e[x.HOOKS]?e:(0,x.hooks)(e,(0,x.middleware)().params("server").props({app:this}))}use(e,n,r){if(typeof e!="string")throw new Error(`'${e}' is not a valid service path.`);const s=(0,Oe.stripSlashes)(e)||"/",i=n;if(typeof i.service=="function"&&i.services)return Object.keys(i.services).forEach(u=>this.use(`${s}/${u}`,i.service(u))),this;const a=(0,qe.wrapService)(s,n,r),c=(0,qe.getServiceOptions)(a);for(const u of qe.protectedMethods)if(c.methods.includes(u))throw new Error(`'${u}' on service '${s}' is not allowed as a custom method name`);return _e(`Registering new service at \`${s}\``),this.mixins.forEach(u=>u.call(this,a,s,c)),this.services[s]=a,this._isSetup&&typeof a.setup=="function"&&(_e(`Setting up service for \`${s}\``),a.setup(this,s)),this}async unuse(e){const n=(0,Oe.stripSlashes)(e)||"/",r=this.services[n];return r&&typeof r.teardown=="function"&&await r.teardown(this,n),delete this.services[n],r}hooks(e){const n=e;return n.before||n.after||n.error||n.around?this.registerHooks(n):n.setup||n.teardown?(0,x.hooks)(this,n):this.registerHooks({around:n}),this}}Be.Feathers=Ur;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});(function(t,e){var n=R&&R.__createBinding||(Object.create?function(u,h,f,d){d===void 0&&(d=f);var l=Object.getOwnPropertyDescriptor(h,f);(!l||("get"in l?!h.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(u,d,l)}:function(u,h,f,d){d===void 0&&(d=f),u[d]=h[f]}),r=R&&R.__exportStar||function(u,h){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f)&&n(h,u,f)},s=R&&R.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.Feathers=e.version=e.feathers=void 0;const i=he,o=s(Ne);e.version=o.default;const a=Be;Object.defineProperty(e,"Feathers",{enumerable:!0,get:function(){return a.Feathers}});function c(){return new a.Feathers}e.feathers=c,c.setDebug=i.setDebug,r(T,e),r(Mn,e),r(le,e),t.exports=Object.assign(c,t.exports)})(Xe,Xe.exports);var Nn=Xe.exports,et={exports:{}},De={},Bn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convert=t.errors=t.Unavailable=t.BadGateway=t.NotImplemented=t.GeneralError=t.TooManyRequests=t.Unprocessable=t.LengthRequired=t.Gone=t.Conflict=t.Timeout=t.NotAcceptable=t.MethodNotAllowed=t.NotFound=t.Forbidden=t.PaymentError=t.NotAuthenticated=t.BadRequest=t.FeathersError=void 0;class e extends Error{constructor(p,y,G,re,L){let F=typeof p=="string"?p:"Error";const de={name:y,code:G,className:re,type:"FeathersError"};if(Array.isArray(L))de.data=L;else if(typeof p=="object"||L!==void 0){const{message:Jn,errors:Xn,...Qn}=p!==null&&typeof p=="object"?p:L;F=Jn||F,de.errors=Xn,de.data=Qn}super(F),Object.assign(this,de)}toJSON(){const p={name:this.name,message:this.message,code:this.code,className:this.className};return this.data!==void 0&&(p.data=this.data),this.errors!==void 0&&(p.errors=this.errors),p}}t.FeathersError=e;class n extends e{constructor(p,y){super(p,"BadRequest",400,"bad-request",y)}}t.BadRequest=n;class r extends e{constructor(p,y){super(p,"NotAuthenticated",401,"not-authenticated",y)}}t.NotAuthenticated=r;class s extends e{constructor(p,y){super(p,"PaymentError",402,"payment-error",y)}}t.PaymentError=s;class i extends e{constructor(p,y){super(p,"Forbidden",403,"forbidden",y)}}t.Forbidden=i;class o extends e{constructor(p,y){super(p,"NotFound",404,"not-found",y)}}t.NotFound=o;class a extends e{constructor(p,y){super(p,"MethodNotAllowed",405,"method-not-allowed",y)}}t.MethodNotAllowed=a;class c extends e{constructor(p,y){super(p,"NotAcceptable",406,"not-acceptable",y)}}t.NotAcceptable=c;class u extends e{constructor(p,y){super(p,"Timeout",408,"timeout",y)}}t.Timeout=u;class h extends e{constructor(p,y){super(p,"Conflict",409,"conflict",y)}}t.Conflict=h;class f extends e{constructor(p,y){super(p,"Gone",410,"gone",y)}}t.Gone=f;class d extends e{constructor(p,y){super(p,"LengthRequired",411,"length-required",y)}}t.LengthRequired=d;class l extends e{constructor(p,y){super(p,"Unprocessable",422,"unprocessable",y)}}t.Unprocessable=l;class _ extends e{constructor(p,y){super(p,"TooManyRequests",429,"too-many-requests",y)}}t.TooManyRequests=_;class g extends e{constructor(p,y){super(p,"GeneralError",500,"general-error",y)}}t.GeneralError=g;class k extends e{constructor(p,y){super(p,"NotImplemented",501,"not-implemented",y)}}t.NotImplemented=k;class b extends e{constructor(p,y){super(p,"BadGateway",502,"bad-gateway",y)}}t.BadGateway=b;class S extends e{constructor(p,y){super(p,"Unavailable",503,"unavailable",y)}}t.Unavailable=S,t.errors={FeathersError:e,BadRequest:n,NotAuthenticated:r,PaymentError:s,Forbidden:i,NotFound:o,MethodNotAllowed:a,NotAcceptable:c,Timeout:u,Conflict:h,LengthRequired:d,Unprocessable:l,TooManyRequests:_,GeneralError:g,NotImplemented:k,BadGateway:b,Unavailable:S,400:n,401:r,402:s,403:i,404:o,405:a,406:c,408:u,409:h,410:f,411:d,422:l,429:_,500:g,501:k,502:b,503:S};function M(v){if(!v)return v;const p=t.errors[v.name],y=p?new p(v.message,v.data):new Error(v.message||v);return typeof v=="object"&&Object.assign(y,v),y}t.convert=M})(Bn);Object.defineProperty(De,"__esModule",{value:!0});De.Service=void 0;const xt=Bn,Ir=he,jn=(0,Ir.createDebug)("@feathersjs/transport-commons/client"),xr=["addListener","addEventListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeEventListener","removeListener"],Vr=["eventNames","getMaxListeners","setMaxListeners"],Kr=t=>{Vr.forEach(e=>{t[e]=function(...n){if(typeof this.connection[e]!="function")throw new Error(`Can not call '${e}' on the client service connection`);return this.connection[e](...n)}}),xr.forEach(e=>{t[e]=function(n,...r){if(typeof this.connection[e]!="function")throw new Error(`Can not call '${e}' on the client service connection`);const s=`${this.path} ${n}`;jn(`Calling emitter method ${e} with namespaced event '${s}'`);const i=this.connection[e](s,...r);return i===this.connection?this:i}})};class Wr{constructor(e){this.events=e.events,this.path=e.name,this.connection=e.connection,this.method=e.method,Kr(this)}send(e,...n){return new Promise((r,s)=>{var i,o;const a=n.pop();let c=this.path;a&&Object.keys(a).forEach(h=>{c=c.replace(`:${h}`,a[h])}),n.unshift(e,c),(((i=this.connection.flags)===null||i===void 0?void 0:i.timeout)||((o=this.connection._opts)===null||o===void 0?void 0:o.ackTimeout))!==void 0?n.push(function(h,f,d){return h||f?s((0,xt.convert)(h||f)):r(d)}):n.push(function(h,f){return h?s((0,xt.convert)(h)):r(f)}),jn(`Sending socket.${this.method}`,n),this.connection[this.method](...n)})}methods(...e){return e.forEach(n=>{const r=`_${n}`;this[r]=function(s,i={}){return this.send(n,s,i.query||{},i.route||{})},this[n]=function(s,i={}){return this[r](s,i,i.route||{})}}),this}_find(e={}){return this.send("find",e.query||{},e.route||{})}find(e={}){return this._find(e)}_get(e,n={}){return this.send("get",e,n.query||{},n.route||{})}get(e,n={}){return this._get(e,n)}_create(e,n={}){return this.send("create",e,n.query||{},n.route||{})}create(e,n={}){return this._create(e,n)}_update(e,n,r={}){return typeof e>"u"?Promise.reject(new Error("id for 'update' can not be undefined")):this.send("update",e,n,r.query||{},r.route||{})}update(e,n,r={}){return this._update(e,n,r)}_patch(e,n,r={}){return this.send("patch",e,n,r.query||{},r.route||{})}patch(e,n,r={}){return this._patch(e,n,r)}_remove(e,n={}){return this.send("remove",e,n.query||{},n.route||{})}remove(e,n={}){return this._remove(e,n)}off(e,...n){if(typeof this.connection.off=="function"){const r=this.connection.off(`${this.path} ${e}`,...n);return r===this.connection?this:r}else if(n.length===0)return this.removeAllListeners(e);return this.removeListener(e,...n)}}De.Service=Wr;var zr=De;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=zr,r=Nn;function s(i,o){if(!i)throw new Error("Socket.io connection needs to be provided");const a=function(u){const h=Object.values(r.defaultEventMap),f=Object.assign({},o,{events:h,name:u,connection:i,method:"emit"});return new n.Service(f)},c=function(u){if(u.io!==void 0)throw new Error("Only one default client provider can be configured");u.io=i,u.defaultService=a,u.mixins.unshift((h,f,d)=>{if(d&&d.methods&&h instanceof n.Service){const l=d.methods.filter(_=>!r.defaultServiceMethods.includes(_));h.methods(...l)}})};return c.Service=n.Service,c.service=a,c}e.default=s,t.exports=Object.assign(s,t.exports)})(et,et.exports);var Yr=et.exports;const Gr=dr(Yr),D=Object.create(null);D.open="0";D.close="1";D.ping="2";D.pong="3";D.message="4";D.upgrade="5";D.noop="6";const Se=Object.create(null);Object.keys(D).forEach(t=>{Se[D[t]]=t});const tt={type:"error",data:"parser error"},Hn=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Dn=typeof ArrayBuffer=="function",$n=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,_t=({type:t,data:e},n,r)=>Hn&&e instanceof Blob?n?r(e):Vt(e,r):Dn&&(e instanceof ArrayBuffer||$n(e))?n?r(e):Vt(new Blob([e]),r):r(D[t]+(e||"")),Vt=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Kt(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ue;function Jr(t,e){if(Hn&&t.data instanceof Blob)return t.data.arrayBuffer().then(Kt).then(e);if(Dn&&(t.data instanceof ArrayBuffer||$n(t.data)))return e(Kt(t.data));_t(t,!1,n=>{Ue||(Ue=new TextEncoder),e(Ue.encode(n))})}const Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Wt.length;t++)ie[Wt.charCodeAt(t)]=t;const Xr=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),h=new Uint8Array(u);for(r=0;r<n;r+=4)i=ie[t.charCodeAt(r)],o=ie[t.charCodeAt(r+1)],a=ie[t.charCodeAt(r+2)],c=ie[t.charCodeAt(r+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|a>>2,h[s++]=(a&3)<<6|c&63;return u},Qr=typeof ArrayBuffer=="function",yt=(t,e)=>{if(typeof t!="string")return{type:"message",data:Fn(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Zr(t.substring(1),e)}:Se[n]?t.length>1?{type:Se[n],data:t.substring(1)}:{type:Se[n]}:tt},Zr=(t,e)=>{if(Qr){const n=Xr(t);return Fn(n,e)}else return{base64:!0,data:t}},Fn=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},qn="",es=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{_t(i,!1,a=>{r[o]=a,++s===n&&e(r.join(qn))})})},ts=(t,e)=>{const n=t.split(qn),r=[];for(let s=0;s<n.length;s++){const i=yt(n[s],e);if(r.push(i),i.type==="error")break}return r};function ns(){return new TransformStream({transform(t,e){Jr(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Ie;function ye(t){return t.reduce((e,n)=>e+n.length,0)}function me(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function rs(t,e){Ie||(Ie=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(ye(n)<1)break;const c=me(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(ye(n)<2)break;const c=me(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(ye(n)<8)break;const c=me(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),h=u.getUint32(0);if(h>Math.pow(2,21)-1){a.enqueue(tt);break}s=h*Math.pow(2,32)+u.getUint32(4),r=3}else{if(ye(n)<s)break;const c=me(n,s);a.enqueue(yt(i?c:Ie.decode(c),e)),r=0}if(s===0||s>t){a.enqueue(tt);break}}}})}const Un=4;function P(t){if(t)return ss(t)}function ss(t){for(var e in P.prototype)t[e]=P.prototype[e];return t}P.prototype.on=P.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};P.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};P.prototype.off=P.prototype.removeListener=P.prototype.removeAllListeners=P.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};P.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};P.prototype.emitReserved=P.prototype.emit;P.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};P.prototype.hasListeners=function(t){return!!this.listeners(t).length};const B=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function In(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const is=B.setTimeout,os=B.clearTimeout;function $e(t,e){e.useNativeTimers?(t.setTimeoutFn=is.bind(B),t.clearTimeoutFn=os.bind(B)):(t.setTimeoutFn=B.setTimeout.bind(B),t.clearTimeoutFn=B.clearTimeout.bind(B))}const cs=1.33;function as(t){return typeof t=="string"?us(t):Math.ceil((t.byteLength||t.size)*cs)}function us(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function fs(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function hs(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class ls extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class mt extends P{constructor(e){super(),this.writable=!1,$e(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new ls(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=yt(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=fs(e);return n.length?"?"+n:""}}const xn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),nt=64,ds={};let zt=0,ve=0,Yt;function Gt(t){let e="";do e=xn[t%nt]+e,t=Math.floor(t/nt);while(t>0);return e}function Vn(){const t=Gt(+new Date);return t!==Yt?(zt=0,Yt=t):t+"."+Gt(zt++)}for(;ve<nt;ve++)ds[xn[ve]]=ve;let Kn=!1;try{Kn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ps=Kn;function Wn(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ps))return new XMLHttpRequest}catch{}if(!e)try{return new B[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function _s(){}const ys=function(){return new Wn({xdomain:!1}).responseType!=null}();class ms extends mt{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const n=e&&e.forceBase64;this.supportsBinary=ys&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};ts(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,es(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Vn()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new H(this.uri(),e)}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class H extends P{constructor(e,n){super(),$e(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=In(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new Wn(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=H.requestsCount++,H.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=_s,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete H.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}H.requestsCount=0;H.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Jt);else if(typeof addEventListener=="function"){const t="onpagehide"in B?"pagehide":"unload";addEventListener(t,Jt,!1)}}function Jt(){for(let t in H.requests)H.requests.hasOwnProperty(t)&&H.requests[t].abort()}const vt=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),ge=B.WebSocket||B.MozWebSocket,Xt=!0,vs="arraybuffer",Qt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class gs extends mt{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=Qt?{}:In(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Xt&&!Qt?n?new ge(e,n):new ge(e):new ge(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;_t(r,this.supportsBinary,i=>{const o={};try{Xt&&this.ws.send(i)}catch{}s&&vt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Vn()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!ge}}class bs extends mt{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=rs(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=ns();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this.writer.write(r).then(()=>{s&&vt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const ws={websocket:gs,webtransport:bs,polling:ms},ks=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Es=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rt(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=ks.exec(t||""),i={},o=14;for(;o--;)i[Es[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Os(i,i.path),i.queryKey=Ss(i,i.query),i}function Os(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Ss(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}let zn=class J extends P{constructor(e,n={}){super(),this.binaryType=vs,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=rt(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=rt(n.host).host),$e(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hs(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Un,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new ws[e](r)}open(){let e;if(this.opts.rememberUpgrade&&J.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),r=!1;J.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;J.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function i(){r||(r=!0,h(),n.close(),n=null)}const o=f=>{const d=new Error("probe error: "+f);d.transport=n.name,i(),this.emitReserved("upgradeError",d)};function a(){o("transport closed")}function c(){o("socket closed")}function u(f){n&&f.name!==n.name&&i()}const h=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",J.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=as(s)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){J.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const s=e.length;for(;r<s;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};zn.protocol=Un;function As(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=rt(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const Cs=typeof ArrayBuffer=="function",Ps=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Yn=Object.prototype.toString,Ls=typeof Blob=="function"||typeof Blob<"u"&&Yn.call(Blob)==="[object BlobConstructor]",Rs=typeof File=="function"||typeof File<"u"&&Yn.call(File)==="[object FileConstructor]";function gt(t){return Cs&&(t instanceof ArrayBuffer||Ps(t))||Ls&&t instanceof Blob||Rs&&t instanceof File}function Ae(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Ae(t[n]))return!0;return!1}if(gt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ae(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ae(t[n]))return!0;return!1}function Ts(t){const e=[],n=t.data,r=t;return r.data=st(n,e),r.attachments=e.length,{packet:r,buffers:e}}function st(t,e){if(!t)return t;if(gt(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=st(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=st(t[r],e));return n}return t}function Ms(t,e){return t.data=it(t.data,e),delete t.attachments,t}function it(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=it(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=it(t[n],e));return t}const Ns=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Bs=5;var m;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(m||(m={}));class js{constructor(e){this.replacer=e}encode(e){return(e.type===m.EVENT||e.type===m.ACK)&&Ae(e)?this.encodeAsBinary({type:e.type===m.EVENT?m.BINARY_EVENT:m.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===m.BINARY_EVENT||e.type===m.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Ts(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Zt(t){return Object.prototype.toString.call(t)==="[object Object]"}class bt extends P{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===m.BINARY_EVENT;r||n.type===m.BINARY_ACK?(n.type=r?m.EVENT:m.ACK,this.reconstructor=new Hs(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(gt(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(m[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===m.BINARY_EVENT||r.type===m.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(bt.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case m.CONNECT:return Zt(n);case m.DISCONNECT:return n===void 0;case m.CONNECT_ERROR:return typeof n=="string"||Zt(n);case m.EVENT:case m.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Ns.indexOf(n[0])===-1);case m.ACK:case m.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Hs{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Ms(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ds=Object.freeze(Object.defineProperty({__proto__:null,Decoder:bt,Encoder:js,get PacketType(){return m},protocol:Bs},Symbol.toStringTag,{value:"Module"}));function j(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const $s=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Gn extends P{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[j(e,"open",this.onopen.bind(this)),j(e,"packet",this.onpacket.bind(this)),j(e,"error",this.onerror.bind(this)),j(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if($s.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:m.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:m.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case m.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case m.EVENT:case m.BINARY_EVENT:this.onevent(e);break;case m.ACK:case m.BINARY_ACK:this.onack(e);break;case m.DISCONNECT:this.ondisconnect();break;case m.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:m.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:m.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function ne(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ne.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};ne.prototype.reset=function(){this.attempts=0};ne.prototype.setMin=function(t){this.ms=t};ne.prototype.setMax=function(t){this.max=t};ne.prototype.setJitter=function(t){this.jitter=t};class ot extends P{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,$e(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ne({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||Ds;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new zn(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=j(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=j(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(j(e,"ping",this.onping.bind(this)),j(e,"data",this.ondata.bind(this)),j(e,"error",this.onerror.bind(this)),j(e,"close",this.onclose.bind(this)),j(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){vt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Gn(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const se={};function Ce(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=As(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=se[s]&&i in se[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return a?c=new ot(r,e):(se[s]||(se[s]=new ot(r,e)),c=se[s]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Ce,{Manager:ot,Socket:Gn,io:Ce,connect:Ce});const Fs="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='27.68'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20296'%3e%3cpath%20fill='%23673AB8'%20d='m128%200l128%2073.9v147.8l-128%2073.9L0%20221.7V73.9z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M34.865%20220.478c17.016%2021.78%2071.095%205.185%20122.15-34.704c51.055-39.888%2080.24-88.345%2063.224-110.126c-17.017-21.78-71.095-5.184-122.15%2034.704c-51.055%2039.89-80.24%2088.346-63.224%20110.126Zm7.27-5.68c-5.644-7.222-3.178-21.402%207.573-39.253c11.322-18.797%2030.541-39.548%2054.06-57.923c23.52-18.375%2048.303-32.004%2069.281-38.442c19.922-6.113%2034.277-5.075%2039.92%202.148c5.644%207.223%203.178%2021.403-7.573%2039.254c-11.322%2018.797-30.541%2039.547-54.06%2057.923c-23.52%2018.375-48.304%2032.004-69.281%2038.441c-19.922%206.114-34.277%205.076-39.92-2.147Z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M220.239%20220.478c17.017-21.78-12.169-70.237-63.224-110.126C105.96%2070.464%2051.88%2053.868%2034.865%2075.648c-17.017%2021.78%2012.169%2070.238%2063.224%20110.126c51.055%2039.889%20105.133%2056.485%20122.15%2034.704Zm-7.27-5.68c-5.643%207.224-19.998%208.262-39.92%202.148c-20.978-6.437-45.761-20.066-69.28-38.441c-23.52-18.376-42.74-39.126-54.06-57.923c-10.752-17.851-13.218-32.03-7.575-39.254c5.644-7.223%2019.999-8.261%2039.92-2.148c20.978%206.438%2045.762%2020.067%2069.281%2038.442c23.52%2018.375%2042.739%2039.126%2054.06%2057.923c10.752%2017.85%2013.218%2032.03%207.574%2039.254Z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M127.552%20167.667c10.827%200%2019.603-8.777%2019.603-19.604c0-10.826-8.776-19.603-19.603-19.603c-10.827%200-19.604%208.777-19.604%2019.603c0%2010.827%208.777%2019.604%2019.604%2019.604Z'%3e%3c/path%3e%3c/svg%3e";function qs(){console.log("I'm loaded!");const t=Ce("http://localhost:3030"),e=Nn.feathers();return e.configure(Gr(t)),e.service("messages").on("created",n=>console.log("New message created",n)),e.service("messages").create({text:"A message from a REST client"}),O("div",{class:"home",children:[O("a",{href:"https://preactjs.com",target:"_blank",children:O("img",{src:Fs,alt:"Preact logo",height:"160",width:"160"})}),O("h1",{children:"hell."}),O("marquee",{children:"I am a derbe awesome hacker boy!"}),O("section",{children:[O(xe,{title:"Learn Preact",description:"If you're new to Preact, try the interactive tutorial to learn important concepts",href:"https://preactjs.com/tutorial"}),O(xe,{title:"Differences to React",description:"If you're coming from React, you may want to check out our docs to see where Preact differs",href:"https://preactjs.com/guide/v10/differences-to-react"}),O(xe,{title:"Learn Vite",description:"To learn more about Vite and how you can customize it to fit your needs, take a look at their excellent documentation",href:"https://vitejs.dev"})]})]})}function xe(t){return O("a",{href:t.href,target:"_blank",class:"resource",children:[O("h2",{children:t.title}),O("p",{children:t.description})]})}function Us(){return O("section",{children:[O("h1",{children:"404: Not Found"}),O("p",{children:"It's gone :("})]})}function Is(){return O(fe,{children:[O(lr,{}),O("main",{children:O(mn,{children:[O(jt,{path:"/",component:qs}),O(jt,{default:!0,component:Us})]})})]})}sr(O(Is,{}),document.getElementById("app"));
